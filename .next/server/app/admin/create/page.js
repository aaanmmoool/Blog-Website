(()=>{var e={};e.id=74,e.ids=[74],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},63477:e=>{"use strict";e.exports=require("querystring")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},67642:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>p,originalPathname:()=>c,pages:()=>u,routeModule:()=>m,tree:()=>d});var s=r(50482),o=r(69108),i=r(62563),a=r.n(i),n=r(68300),l={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);r.d(t,l);let d=["",{children:["admin",{children:["create",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,52683)),"C:\\Users\\Asus\\Desktop\\Blog Website\\app\\admin\\create\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,34599)),"C:\\Users\\Asus\\Desktop\\Blog Website\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,69361,23)),"next/dist/client/components/not-found-error"]}],u=["C:\\Users\\Asus\\Desktop\\Blog Website\\app\\admin\\create\\page.tsx"],c="/admin/create/page",p={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/admin/create/page",pathname:"/admin/create",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},98419:(e,t,r)=>{Promise.resolve().then(r.bind(r,65221))},65221:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var s=r(95344),o=r(3729),i=r(22254),a=r(53267),n=r.n(a),l=r(83717),d=r.n(l);r(24221);let u=n()(async()=>{},{loadableGenerated:{modules:["C:\\Users\\Asus\\Desktop\\Blog Website\\app\\admin\\create\\CreatePostClient.tsx -> react-quill"]},ssr:!1,loading:()=>s.jsx("p",{children:"Loading editor..."})});function c(){let e=(0,i.useRouter)(),[t,r]=(0,o.useState)(""),[a,n]=(0,o.useState)(""),[l,c]=(0,o.useState)(""),[p,m]=(0,o.useState)(!1),[x,g]=(0,o.useState)(null);(0,o.useEffect)(()=>{t.trim()?c(d()(t,{lower:!0,strict:!0,remove:/[*+~.()'"!:@]/g})):c("")},[t]);let b=async r=>{if(r.preventDefault(),!t.trim()||!a.trim()){g("Title and content are required");return}m(!0),g(null);try{let r=await fetch("/api/posts/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:t.trim(),content:a.trim()})});if(!r.ok){let e=await r.json();throw Error(e.error||"Failed to create post")}await r.json(),e.push("/admin")}catch(e){g(e instanceof Error?e.message:"Failed to create post")}finally{m(!1)}};return s.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,s.jsxs)("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Create New Post"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Write your blog post using the rich text editor below."})]}),(0,s.jsxs)("form",{id:"create-post-form",onSubmit:b,className:"space-y-6 pb-32",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),s.jsx("input",{type:"text",id:"title",value:t,onChange:e=>r(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter post title...",required:!0})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"slug",className:"block text-sm font-medium text-gray-700 mb-2",children:"Slug (Auto-generated)"}),s.jsx("input",{type:"text",id:"slug",value:l,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-gray-50 text-gray-600 cursor-not-allowed",placeholder:"Slug will be generated from title..."}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"The slug is automatically generated from the title and will be used in the URL."})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700 mb-2",children:"Content"}),s.jsx("div",{className:"border border-gray-300 rounded-md mb-6",children:s.jsx(u,{value:a,onChange:n,modules:{toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{color:[]},{background:[]}],[{align:[]}],["link","image","blockquote","code-block"],["clean"]]},formats:["header","bold","italic","underline","strike","list","bullet","color","background","align","link","image","blockquote","code-block"],placeholder:"Write your post content...",style:{height:"400px"}})})]}),x&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:s.jsx("div",{className:"text-red-800",children:x})})]}),(0,s.jsxs)("div",{className:"fixed left-0 bottom-0 w-full bg-white shadow-md py-4 px-4 flex justify-end space-x-4 z-50",children:[s.jsx("button",{type:"button",onClick:()=>e.push("/admin"),className:"px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),s.jsx("button",{type:"submit",form:"create-post-form",disabled:p||!t.trim()||!a.trim(),className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:p?"Creating...":"Create Post"})]})]})})}},52683:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var s=r(25036),o=r(49605),i=r(31849),a=r(44551);let n=(0,r(86843).createProxy)(String.raw`C:\Users\Asus\Desktop\Blog Website\app\admin\create\CreatePostClient.tsx`),{__esModule:l,$$typeof:d}=n,u=n.default;async function c(){return await (0,o.getServerSession)(i.L)||(0,a.redirect)("/admin/login"),s.jsx(u,{})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,825,384,551,320],()=>r(67642));module.exports=s})();